
<ul class="pagination">
    <li>
      <%= link_to @page_index.to_i == 1 ? " | " : "<<", posts_path(page_index: @page_index.to_i == 1 ? 1 : @page_index.to_i-1) %>
    </li >
    <% if @page_index.to_i==1 %>
      <% 5.times do |i| %>
        <li <%= "class=active" if i==@page_index.to_i-1%>>
          <%= link_to(@page_index.to_i+i, posts_path(page_index: i+1)) %>
        </li>
      <% end %>
    <% elsif @page_index.to_i==2 %>
      <% 5.times do |i| %>
        <li <%= "class=active" if i==@page_index.to_i-1%>>
          <%= link_to(@page_index.to_i-1+i, posts_path(page_index: i+1)) %>
        </li>
      <% end %>
    <% elsif @page_index.to_i==(@posts.size/@posts_per_page) %>
      <% 5.times do |i| %>
        <li <%= "class=active" if i==@page_index.to_i-1%>>
          <%= link_to(@page_index.to_i-5+i, posts_path(page_index: i+1)) %>
        </li>
      <% end %>
    <% elsif @page_index.to_i==(@posts.size/@posts_per_page-1) %>
      <% 5.times do |i| %>
        <li <%= "class=active" if i==@page_index.to_i-1%>>
          <%= link_to(@page_index.to_i-4+i, posts_path(page_index: i+1)) %>
        </li>
      <% end %>
    <% else  %>
      <% 5.times do |i| %>
        <li <%= "class=active" if i==2%>>
          <%= link_to(@page_index.to_i-2+i, posts_path(page_index: @page_index.to_i-2+i)) %>
        </li>
      <% end %>
    <% end %>
    <li>
      <%= link_to @page_index.to_i == @posts.size/@posts_per_page ? " | " : ">>", posts_path(page_index: @page_index.to_i == @posts.size/@posts_per_page ? @posts.size/@posts_per_page : @page_index.to_i+1) %>
    </li>
  </ul>
